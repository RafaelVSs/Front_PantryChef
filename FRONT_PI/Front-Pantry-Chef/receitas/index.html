<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./../assets/style/alimento.css">
    <script src="https://kit.fontawesome.com/26c01c2bcf.js" crossorigin="anonymous"></script>

    <title>PantryChef</title>
</head>
<body>
    <nav class="d-flex justify-content-evenly ">
        <div class="navbutton"><a href="../index.html" class="p-3 text-light"><i class="fa-solid fa-arrow-left-long" style="color: #ffffff;"></i></a></div>
        <div class="navbutton"><a href="./../receitas/index.html" class="p-3 text-light"><i class="fa-solid fa-book" style="color: #ffffff;"></i></a></div> 
        <div class="navbutton d-flex justify-content-center align-items-center">
            <a href="./../usuario/index.html" class="p-2 text-light rounded-circle">
              <img src="./assets/img/lance-reis-tyec1pFjaGU-unsplash.jpg" height="45px" width="45px" alt="" class="rounded-circle">
            </a>
        </div>
      </nav>
    <section class="main-section">
        <div class="search-item">
            <input type="text" placeholder="teste" name="search-item" id="input-items" class="input-search">
        </div>
        <div class="card"  id="receitas-container">
            <h1 class="card-food-title">TESTE</h1>
            <div class="food-section">   
                <div class="card-food">
                    <div class="card-food-content">
                        <div class="card-food-text">
                            <p>Nome Receita</p>
                        </div>
                        <body>
                            <div id="container">
                                <section id="accordion">
                                    <div>
                                        <input type="checkbox" id="check-1" />
                                        <label for="check-1">Receita 1</label>
                                        <article>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A, odit, quia hic ipsam laboriosam dignissimos suscipit eligendi! Aspernatur, ad, suscipit officiis repellat consequuntur quod quibusdam sint nobis magnam voluptates veritatis?</p>
                                        </article>
                                    </div>
                                </section>
                          </div>
                        </body>
                    </div>
                </div>
                <!-- voce vai ter que gerar varios desses card-food-content  e mudar os dados que estão sendo passados pra ele -->
            </div>
        </div>
    </section>

    <script>
        // Quando a página carregar, faça a requisição e exiba as receitas
        window.onload = async function () {
    try {
        const response = await fetch('http://localhost:3333/todasReceitas');
        const data = await response.json();
        
        // Limpa o container de receitas
        const receitasContainer = document.getElementById('receitas-container');
        receitasContainer.innerHTML = '';

        // Adiciona cada receita ao container
        data.forEach(receita => {
            receitasContainer.innerHTML += `
                <div class="card-food">
                    <h1 class="card-food-title">${receita.NomeReceita}</h1>
                    <div class="food-section">   
                        <div class="card-food-content">
                            <div class="card-food-text">
                                <p>${receita.NomeReceita}</p>
                            </div>
                            <div id="container">
                                <section id="accordion">
                                    <div>
                                        <input type="checkbox" id="check-${receita.id_receita}" />
                                        <label for="check-${receita.id_receita}">${receita.NomeReceita}</label>
                                        <article>
                                            <p>${receita.ModoPreparo}</p>
                                        </article>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>`;
        });
    } catch (error) {
        console.error('Erro ao obter as receitas:', error);
    }
};
    </script>
</body>
</html>